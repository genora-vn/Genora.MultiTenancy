@page
@using Genora.MultiTenancy.Localization
@inject Microsoft.Extensions.Localization.IStringLocalizer<MultiTenancyResource> L
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Modal
@model Genora.MultiTenancy.Web.Pages.AppZaloLogs.ViewModalModel
@{
    Layout = null;
}

<abp-modal size="Large">
    <abp-modal-header title="@L["AppZaloLogs"]"></abp-modal-header>
    <abp-modal-body>

        <div class="alert alert-info py-2">@L["MaskTokenHint"]</div>

        <dl class="row">
            <dt class="col-sm-3">@L["Action"]</dt>
            <dd class="col-sm-9">@Model.Log.Action</dd>

            <dt class="col-sm-3">@L["Endpoint"]</dt>
            <dd class="col-sm-9">@Model.Log.Endpoint</dd>

            <dt class="col-sm-3">@L["HttpStatus"]</dt>
            <dd class="col-sm-9">@Model.Log.HttpStatus</dd>

            <dt class="col-sm-3">@L["DurationMs"]</dt>
            <dd class="col-sm-9">@Model.Log.DurationMs</dd>

            <dt class="col-sm-3">@L["Error"]</dt>
            <dd class="col-sm-9 text-danger">@Model.Log.Error</dd>
        </dl>

        <h6 class="mt-3">@L["RequestBody"]</h6>
        <pre class="bg-light p-2 rounded" style="max-height: 240px; overflow:auto;">@Model.MaskedRequest</pre>

        <h6 class="mt-3">@L["ResponseBody"]</h6>
        <pre class="bg-light p-2 rounded" style="max-height: 240px; overflow:auto;">@Model.MaskedResponse</pre>

    </abp-modal-body>

    <abp-modal-footer buttons="@(AbpModalButtons.Close)"></abp-modal-footer>
</abp-modal>
